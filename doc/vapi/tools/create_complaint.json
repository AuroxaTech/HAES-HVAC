{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Create Complaint Tool",
  "description": "Create complaint/escalation ticket",
  "tool_definition": {
    "type": "function",
    "function": {
      "name": "create_complaint",
      "description": "Create a complaint or escalation ticket. Use this when customer expresses dissatisfaction, has a complaint, or wants to escalate an issue. IMPORTANT: Remain professional, do NOT make promises, do NOT say 'we'll fix it for free' or similar prohibited phrases.",
      "parameters": {
        "type": "object",
        "properties": {
          "customer_name": {
            "type": "string",
            "description": "Customer's full name (required)"
          },
          "phone": {
            "type": "string",
            "description": "Customer's phone number (required)"
          },
          "email": {
            "type": "string",
            "description": "Customer's email address"
          },
          "complaint_details": {
            "type": "string",
            "description": "Details of the complaint (required)"
          },
          "service_date": {
            "type": "string",
            "description": "Date of service"
          },
          "service_id": {
            "type": "string",
            "description": "Service ID"
          }
        },
        "required": ["customer_name", "phone", "complaint_details"]
      }
    },
    "async": false,
    "server": {
      "url": "https://haes-hvac.fly.dev/vapi/server"
    }
  }
}
